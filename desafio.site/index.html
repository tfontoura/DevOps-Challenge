<html>
<head>
<title>DevOps Challenge | Desafio DevOps</title>
</head>
<div style="text-align: left; width:80%;margin: 0 auto;">
<h1 id="desafio-devops">DevOps Challenge | Desafio DevOps</h1>
<h2 id="projeto-desafio.site"><em>Desafio.site Project</em></h2>
<p><strong><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by <a href="https://www.linkedin.com/in/tom-fontoura/">T. Fontoura</a></em> - <a href="indexPT.html"><small>Clique aqui para português</small></a></strong></p>
<p>Someone challenged me to automate the creation of Docker containers in an AWS instance, installing Wordpress with Apache, adding Nginx as a reverse proxy.</p>
<p>
I accepted the challenge and, to improve it a little, I decided to develop a small project (which did not take more than a day) that allowed a simple installation, with few instructions and the objective of reducing the installation to just one command line. That way the whole process would be more user-friendly. I named the project <em>desafio.site</em>, as &quot;desafio&quot; means challenge in Portuguese.
</p>
You can find this little project at <a href="https://github.com/tfontoura/DevOps-Challenge">https://github.com/tfontoura/DevOps-Challenge</a>
 <br/>
&nbsp;
<hr/>

<h2>Installation</h2>

<ol> 
<li>Create an EC-2 AWS instance with the following image <br/>
  <i>Ubuntu Server 20.04 LTS (HVM), SSD Volume Type - ami-04505e74c0741db8d (64-bit x86) </i>
</li>
<li> Add the instance to a security group with ports 80, 443 e 22 open</li>

<li> Access the instance by SSH</li>

<li> Run the following command line: <br/>
<pre><code class="lang-sh">curl <span class="hljs-string">https:</span><span class="hljs-comment">//desafio.site/init.sh | sudo bash</span>
</code></pre>
</li>
<li>
Wait until it finishes and that's all!
</li>
</ol>



<hr/>
<h2 id="como-foi-feito">How it was done</h2>
<ul>
<li>I created an S3 bucket S3 with the name desafio.site and configured it as an static website, the web address as <em>desafio.site.s3-website-us-east-1.amazonaws.com</em>. I could have utilized that domain name, but I decided to move one step further, in order to demonstrate my domains and DNS knowledge. </li>
<li>Registered domain <a href="https://desafio.site">desafio.site</a></li>
<li>Created a CNAME register in its DNS, pointing <a href="https://desafio.site"><em>desafio.site</em></a> to <em>desafio.site.s3-website-us-east-1.amazonaws.com</em></li>
<li>Wrote the automation shell script <a rel=”nofollow” href="https://desafio.site/init.sh">init.sh</a> and put it in the website</li>
<li>Created a <a href="robots.txt">robots.txt</a> to tell robots not to crawl it, in order for the script not be indexed by search engines</li>
</ul>
<hr/>

<h2>Notes</h2>
As this is a quick project for evaluation, security issues and other points were not taken into account, such as:

<ul><li>We could create random passwords; we could automatically create, using lambda and Cloudflare API, a subdomain of <i>desafio.site</i> for the new server (name that could be entered manually, and thus create folders for it in EFS), etc.
</li></ul>
I did not use RDS or EFS so that the project could be more easily reproduced on the evaluator's internal server. But in a project like this for production, I do it a little differently:

<ul><li>
I create custom images with docker installed and already with EFS in fstab, mounted. Everything I need is already in that image.
I use RDS or a master+slave cluster or Galera as db.
</li></ul>
Anyway, this is a project done in a short time (~12h). It's not perfect, but I hope it serves as an assessment of skills and knowledge.

 <br/>
&nbsp;
<hr/>
<h2 id="license">License</h2>
<p>Copyright T. Fontoura 2022 - All rights reserved | 
Contact: <a href="https://www.linkedin.com/in/tom-fontoura/">T. Fontoura's LinkedIn profile page</a>

</p>
</div>
</body>
</html>
